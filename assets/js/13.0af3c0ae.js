(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{358:function(t,a,s){"use strict";s.r(a);var e=s(47),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("在"),s("code",[t._v("CMS")]),t._v("项目中，使用"),s("code",[t._v("UEditor")]),t._v("作为富文本编辑器，由于上传视频功能需要自己改造，所以需要新增自定义按钮")])]),t._v(" "),s("h2",{attrs:{id:"环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境"}},[t._v("#")]),t._v(" 环境")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("vue 2.5")])]),t._v(" "),s("li",[s("code",[t._v("ueditor1_4_4_3")])])]),t._v(" "),s("h2",{attrs:{id:"操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#操作"}},[t._v("#")]),t._v(" 操作")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("ueditor.config.js")]),t._v("文件中 => 在"),s("code",[t._v("window.UEDITOR_CONFIG")]),t._v("的"),s("code",[t._v("toolbars")]),t._v("数组中新增"),s("code",[t._v("uploadvideo")]),t._v("项")]),t._v(" "),s("li",[t._v("在"),s("code",[t._v("lang")]),t._v("中的"),s("code",[t._v("labelMap")]),t._v("下配置"),s("code",[t._v("'uploadvideo': '上传视频'")]),t._v("，使得鼠标移上去会显示 "),s("strong",[t._v("上传视频")]),t._v(" 字样")]),t._v(" "),s("li",[t._v("修改"),s("code",[t._v("ueditor.all.min.js")]),t._v(" 或者 "),s("code",[t._v("ueditor.all.js")]),t._v("中的配置（本人为历史遗留项目所以就拿"),s("code",[t._v("min")]),t._v("改了）")])]),t._v(" "),s("ul",[s("li",[t._v("全局搜"),s("code",[t._v('f = ["undo", "redo", "formatmatch" ...')]),t._v("的字样，不包含省略号，在数组后新增"),s("code",[t._v("uploadvideo")]),t._v("("),s("code",[t._v("all.js")]),t._v("是"),s("code",[t._v("btnCmds")]),t._v(")")]),t._v(" "),s("li",[t._v("搜"),s("code",[t._v("insertimage")]),t._v("， 在下面仿照写")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("commands"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("uploadvideo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("execCommand")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 自定义按钮上传视频")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_vue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("$emit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'showUploadVideo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("这里的"),s("code",[t._v("this._vue")]),t._v("是在初始化"),s("code",[t._v("UEditor")]),t._v("时绑定上去的"),s("code",[t._v("vue")]),t._v("实例\n4. 这样我们就可以触发页面中打开上传"),s("code",[t._v("Dialog")]),t._v("的方法了")])])}),[],!1,null,null,null);a.default=n.exports}}]);